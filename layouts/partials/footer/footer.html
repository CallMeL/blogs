{{- $ThemeVersion := "3.19.0" -}}
<footer class="site-footer">
    <section class="copyright">
        &copy; 
        {{ if and (.Site.Params.footer.since) (ne .Site.Params.footer.since (int (now.Format "2006"))) }}
            {{ .Site.Params.footer.since }} - 
        {{ end }}
        {{ now.Format "2006" }} {{ default .Site.Title .Site.Copyright }}
    </section>
    
    <section class="powerby">
        {{ with .Site.Params.footer.customText }}
            {{ . | safeHTML }} <br/>
        {{ end }}

        {{- $Generator := `<a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>` -}}
        {{- $Theme := printf `<b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="%s">Stack</a></b>` $ThemeVersion -}}
        {{- $DesignedBy := `<a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>` -}}

        {{ T "footer.builtWith" (dict "Generator" $Generator) | safeHTML }} <br />
        {{ T "footer.designedBy" (dict "Theme" $Theme "DesignedBy" $DesignedBy) | safeHTML }}
    </section>


    <!-- Add blog running time -->
<!-- Add blog running time -->
<section class="myfooter">
    ğŸ‚ {{T "footer.born"}} :
<span id="runningdays" class="myfooter"></span>
</section>

<span class="myfooter">
    <span id="busuanzi_container_site_pv" >
        ğŸ‘€ {{T "footer.views"}} <span id="busuanzi_value_site_pv"></span>
    </span>
    <span id="busuanzi_container_site_uv">
        Â· {{T "footer.visitors"}}  <span id="busuanzi_value_site_uv"></span>
      </span>
</span>

    
    

    <!-- Add total page and word count time -->
<section class="myfooter">
    {{$scratch := newScratch}}
    {{ range (where .Site.Pages "Kind" "page" )}}
        {{$scratch.Add "total" .WordCount}}
    {{ end }}
    ğŸ“ {{T "footer.article"}}  {{ len (where .Site.RegularPages "Section" "post") }} Â· 
    {{T "footer.words"}} {{ div ($scratch.Get "total") 1000.0 | lang.FormatNumber 2 }}k
</section>

<!--è¿”å›é¡¶éƒ¨æŒ‰é’® -->
<a href="#" id="back-to-top" title="è¿”å›é¡¶éƒ¨"></a>

<!--è¿”å›é¡¶éƒ¨CSS -->
<style>
  #back-to-top {
    display: none;
    position: fixed;
    bottom: 20px;
    right: 55px;
    width: 30px;
    height: 30px;
    border-radius: 7px;
    background-color: rgba(211, 92, 240, 0.245);
    box-shadow: var(--shadow-l2);
    font-size: 8px;
    text-align: center;
    line-height: 50px;
    cursor: pointer;
  }

  #back-to-top:before {
    content: ' ';
    display: inline-block;
    position: relative;
    top: 0;
    transform: rotate(135deg);
    height: 10px;
    width: 10px;
    border-width: 0 0 2px 2px;
    border-color: var(--back-to-top-color);
    border-style: solid;
  }

  #back-to-top:hover:before {
    border-color: #a843de;
  }

  /* åœ¨å±å¹•å®½åº¦å°äº 768 åƒç´ æ—¶ï¼Œé’®ä½ç½®è°ƒæ•´ */
  @media screen and (max-width: 768px) {
    #back-to-top {
      bottom: 20px;
      right: 0px;
      width: 30px;
      height: 30px;
      font-size: 3px;
    }
  }

  /* åœ¨å±å¹•å®½åº¦å¤§äºç­‰äº 1024 åƒç´ æ—¶ï¼ŒæŒ‰é’®ä½ç½®è°ƒæ•´ */
  @media screen and (min-width: 1024px) {
    #back-to-top {
      bottom: 20px;
      right: 40px;
    }
  }

  /* åœ¨å±å¹•å®½åº¦å¤§äºç­‰äº 1280 åƒç´ æ—¶ï¼ŒæŒ‰é’®ä½ç½®è°ƒæ•´ */
  @media screen and (min-width: 1280px) {
    #back-to-top {
      bottom: 20px;
      right: 55px;
    }
  }

  /* ç›®å½•æ˜¾ç¤ºæ—¶ï¼Œéšè—æŒ‰é’® */
  @media screen and (min-width: 1536px) {
    #back-to-top {
      visibility: hidden;
    }
  }
</style>

<!--è¿”å›é¡¶éƒ¨JS -->
<script>
  function backToTop() {
    document.documentElement.scrollIntoView({
      behavior: 'smooth',
    })
  }

  window.onload = function () {
    let scrollTop =
      this.document.documentElement.scrollTop || this.document.body.scrollTop
    let totopBtn = this.document.getElementById('back-to-top')
    if (scrollTop > 0) {
      totopBtn.style.display = 'inline'
    } else {
      totopBtn.style.display = 'none'
    }
  }

  window.onscroll = function () {
    let scrollTop =
      this.document.documentElement.scrollTop || this.document.body.scrollTop
    let totopBtn = this.document.getElementById('back-to-top')
    if (scrollTop < 200) {
      totopBtn.style.display = 'none'
    } else {
      totopBtn.style.display = 'inline'
      totopBtn.addEventListener('click', backToTop, false)
    }
  }
</script>

</footer>
